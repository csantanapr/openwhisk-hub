
let state = {};

function initState() {
  // Read URL vars.
  var vars = [], hash;
  var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
  for(var i = 0; i < hashes.length; i++) {
    hash = hashes[i].split('=');
    state[hash[0].trim()] = hash[1];
  }
}

let icookies = {};
function indexCookies() {
  if (document.cookie) {
    let cookies = decodeURIComponent(document.cookie);
    let ca = cookies.split(';');
    for  (var i = 0; i < ca.length; i++) {
      let entry = ca[i].trim();
      let eqi = entry.indexOf('=');
      let key = entry.substring(0, eqi);
      let value = entry.substring(eqi + 1);
      icookies[key] = value;
    }
  }
}
function onLoadCommon() {
  indexCookies();
  initState();

  updateBluemixLoginState();
}
